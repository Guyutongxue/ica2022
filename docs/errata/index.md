# 勘误列表

[课件下载链接](https://disk.pku.edu.cn:443/link/E55A05846602229979DEFB4358EEF761?gns=CB8FC80E89AF46C39580120B6BEB4DC1%2F694E2A9E7BBF48ECBB68CDC82244FD65)，有效期至 2023-01-31 23:59。

## 关于课件内标点符号的勘误

旧版课件中，由于未关闭 PowerPoint 的自动标点符号修正功能，存在大量被错误使用的标点符号。这类错误包括但不限于：
- 弯引号 `“` `”` `‘` `’` 应使用直引号 `"` `'`；
- 中文标点符号 `：` `；` 等应使用英文标点符号 `:` `;`

由于此类错误较多且无法一一指出，请同学们自行修正。

## 第 2 讲 感性认识 C++ 程序

- 第 2 页， [C 和 C++ 关系](../cpp/c) 韦恩图错误，应为第 16 页版本。

## 第 3 讲 最简单的 C++ 程序

- 第 3 页，`int i = 0;` 与 `int i; i = 0;` 含义不同但效果一致。
- 第 30 页，快捷键 <kbd>Command</kbd> + <kbd>/</kbd> 或 <kbd>Ctrl</kbd> + <kbd>/</kbd> 仅在 VS Code、OnlineGDB、Lightly 等环境下可用；VS 的快捷键是 <kbd>Ctrl</kbd> + <kbd>K</kbd> 后按 <kbd>Ctrl</kbd> + <kbd>C</kbd>。
- 第 31 页，“工程”概念适用于 VS、CLion 等 IDE；VS Code、在线环境或 Dev-C++ 等不使用工程。
- 第 33 页，严格来说 C++ 程序由若干“声明”构成，函数只是其中一种声明。
- 第 39、40 页，`using namespace std;` 不是必须的；`return 0;` 也不是必须的。

## 第 4 讲 从现实问题到计算机程序

- 第 44 页、46 页、47 页，删去“值为 0/1”的描述。`bool` 类型的变量值总是为 `true` 或 `false`。

## 第 5 讲 数据成分

- 第 6 页、13 页、47 页、54 页、59 页、63 页、74 页、76 页的数据类型分类图不正确，正确图示请参考下图：  
  ![type system](https://learn-cpp.tk/assets/typesystem.svg)
- 第 9 页，标准上 1KB = 1000B，1MB = 1000KB etc.，而 1KiB = 1024B，1MiB = 1024 KiB etc.。但习惯上可用 KB 代替 KiB 单位，具体情况要具体分析。
- 第 16 页起的所有表格均应包含 `long long`。`long long` 类型的长度不短于 `long`，一般实现为 64 位长。
- 第 33 页、34 页，标题不应为“输入x进制”，而是“使用x进制常量”。此外，可用 `0b00110101` 的形式作为二进制字面量。
- 第 37 页、42 页，大部分实现如此。标准不规定取值范围，可用 `std::numeric_limits<T>::max()` 查询。
- 第 51 页，图示二进制表示并非 314.16，该示意仅表示“使用科学记数法”存储浮点数。
- 第 56 页，仅编号 0 - 127 这 128 个字符的含义被规定。编号 128 以后的字符，由各个国家自行定义。
- 第 57 页，`char a = 64;` 是将 `int` 类型的 `64` 转换到了 `char` 类型的 `'@'`。这是不被推荐的做法，可以直接使用 `char a = '@';`。变量 `b` 同理。
- 第 70 页乱码。完整的关键字列表可参考[这里](https://zh.cppreference.com/w/cpp/keyword)。

## 第 6 讲 运算成分
- 第 9 页至第 19 页：此部分所讲述的是“隐式类型转换”而非“赋值运算符”。具体更正如下：
  - 第 9 页，标题应为“隐式类型转换”，文中的“= 两边”改为“赋值或初始化时”。下方的例子代码为初始化时发生的隐式转换。
  - 第 10 页，“= 右边的操作数”改为“用来初始化或者赋值的表达式”。
  - 第 11 页，“= 右边的操作数”改为“用来初始化或者赋值的表达式”。
  - 第 12 页，标题应为“隐式类型转换”，“长数赋给短数”改为“从较‘长’的类型转换到较‘短’的类型”。
  - 第 13 页，标题应为“隐式类型转换”。
  - 第 14 页，标题应为“隐式类型转换”，“短数赋给长数”改为“从较‘短’的类型转换到较‘长’的类型”。
  - 第 16 页，标题应为“隐式类型转换”，“赋值处理”改为“转换处理”。
  - 第 17 页，标题应为“隐式类型转换”，“赋值处理”改为“转换处理”，“直接赋值”改为“不改变内存表示”。
  - 第 19 页，标题应为“隐式类型转换”，长数赋给短数”改为“从较‘长’的类型转换到较‘短’的类型”，“短数赋给长数”改为“从较‘短’的类型转换到较‘长’的类型”，“赋值处理”改为“转换处理”，“直接赋值”改为“不改变内存表示”。
- 第 20 页，表达式例子中不应包含分号 `;`，“赋值语句也不例外”改为“赋值表达式也不例外”。
- 第 21 页，“其它运算符号”改为“算术运算符”。
- 第 22 页，补充说明 `int a = b = c = 5;` 错误是因为初始化语法与赋值表达式不同。
- 第 25 页，“实数运算”改为“浮点数参与的运算”。“舍入的方向”句改为“总是向零舍入，即抹去小数位：正数向下舍入，负数向上舍入”。
- 第 27 页，小括号不是运算符。只有算术运算符的结合方向为从左至右。
- 第 31 页，“使用”的意思是表达式本身的值。
- 第 33 页删去。
- 第 45 页，删去“以 0 代表‘假’；以非 0 代表‘真’”句。所有的“值为 0”改为“值为 `false`”，“值为 1”改为“值为 `true`”。
- 第 46 页，删去“以 0 代表‘假’；以非 0 代表‘真’”句。
- 第 48 页、50 页重复，删去。
- 第 58 页、64 页表格以第 6 页版本为准。
- 第 65 页重复，删去。
- 第 79 页表格乱码，`e` 替换为 `^`，`8` 替换为 `0`，`7` 替换为 `1`。
- 第 83 页，“若符号位原来为 1”后面一段，改为“总是移入 1，这被称为‘算术右移’”。C++20 标准规定编译器必须实现为算术右移。
- 第 84 页，添加“执行和算术转换同样规则的转换，即按层级提升的过程”。
